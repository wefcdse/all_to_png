# all_to_png

一个小工具：将当前目录（非递归）中所有可被 `image` 解码的非目标格式文件转换为目标格式（默认 PNG）。

主要特性
- 非递归：只处理当前目录下的常规文件。
- 支持的目标格式：`png`（默认），若可执行文件名包含 `gif` / `jpeg` / `jpg` 则会自动切换对应目标格式。
- 提供 `--dry-run`（或 `-n`）预览，不会写入文件。
- PNG 保存时使用最高压缩（Paeth 过滤器 + 最好压缩）。

可执行文件名检测说明（面向非技术用户）

这个程序有一个方便的“智能切换”功能：它会看运行它的那个程序文件的名字，并根据名字决定要把图片转换成哪种格式。下面用简单易懂的话说明怎么用。

- 什么是“可执行文件名”？
	- 当你双击运行程序时，你是在启动一个文件（Windows 下通常是一个 `.exe` 文件），这个文件有一个名字，比如 `all_to_png.exe`。这个名字就是“可执行文件名”。

- 程序怎样根据名字决定格式？
	- 程序会查看这个文件名里是否包含常见格式的字眼：`png`、`jpg`/`jpeg` 或 `gif`（不区分大小写）。
	- 如果文件名里有 `gif`，程序就会把所有可转换的图片生成 GIF；如果包含 `jpg` 或 `jpeg`，就生成 JPEG（扩展名为 `.jpg`）；如果包含 `png`，就生成 PNG。默认情况下（名字里没有这些字眼），程序会生成 PNG。 

- 为什么要这样设计？
	- 这是一个简单、直观的方法来选择目标格式：不需要记住复杂的命令或参数，只要把程序文件重命名成想要的格式即可。

- 我该如何实际操作
 1. 在文件管理器（资源管理器）中，找到程序文件，比如 `all_to_png.exe`。
 2. 右键 -> 选择“重命名”（或按 F2），把文件名改成想要的形式，例如：
		- 想要生成 PNG：`all_to_png.exe` 或 `convert_to_png.exe`
		- 想要生成 JPEG：`all_to_jpeg.exe` 或 `convert_to_jpg.exe`
		- 想要生成 GIF：`all_to_gif.exe` 或 `convert_to_gif.exe`
		- 生成帮助文件： 包含`help`如`all_to_png_help.exe` 或 不包含png、jepg、jpg、gif，如`all_to_what.exe`
 3. 双击或在终端中运行这个重命名后的程序，程序就会按照文件名中提示的格式生成图片。


注意事项
- 如果需要转换图片，请**不要**在可执行文件名中包含`help`字样，否则程序只会生成帮助文件。
- 转换会生成与原始文件同名但扩展名为目标格式的文件（例如 `foo.jpg` -> `foo.png`）。
- 对于无法识别或解码的文件，会在控制台打印错误并跳过。
- 工具不会递归子目录；如果需要递归功能，可以向仓库提交 issue 或 PR。

